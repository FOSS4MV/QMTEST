$catalog QMVarType global
$include syscom keys.h

function QMVarType(var)
    common /QMVarType/ varTypes
    if (unassigned(varTypes)) then
        gosub loadVarTypes
    end
    type = vartype(var)
    return varTypes<type>
    
    local sub loadVarTypes
        obj = object("QMObject")
        type = vartype(obj)
        varTypes<type> = "OBJECT"
        open "VOC" to filevar else null
        type = vartype(filevar)
        varTypes<type> = "FILE"
        close filevar
        string = "This is a string"
        type = vartype(string)
        varTypes<type> = "STRING"
        int = 1
        type = vartype(int)
        varTypes<type> = "INTEGER"
        float = 1.2
        type = vartype(float)
        varTypes<type> = "FLOAT"
        socket = create.server.socket("", 4000, SKT$STREAM + SKT$TCP)
        type = vartype(socket)
        varTypes<type> = "SOCKET"
        close.socket socket
    end
end
